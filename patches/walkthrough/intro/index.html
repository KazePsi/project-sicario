<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.81.0"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=../../../favicons/favicon.ico><link rel=apple-touch-icon href=../../../favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=../../../favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=../../../favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=../../../favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=../../../favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=../../../favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=../../../favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=../../../favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=../../../favicons/android-192x192.png sizes=192x192><title>File Structure | Project Sicario</title><meta property="og:title" content="File Structure"><meta property="og:description" content="Let&rsquo;s dive into the deep end and use a reasonably simple example of a patch file to illustrate how an asset patch file works. There&rsquo;s a complete example of a reasonably simple mod included below: the AoA Unlocker. This will probably seem like a lot but over the next few pages we&rsquo;ll walk slowly through all the individual parts so you can get an idea of how the patches work and how you can build your own."><meta property="og:type" content="article"><meta property="og:url" content="/patches/walkthrough/intro/"><meta property="article:section" content="patches"><meta property="article:modified_time" content="2021-07-15T13:30:57+10:00"><meta property="og:site_name" content="Project Sicario"><meta itemprop=name content="File Structure"><meta itemprop=description content="Let&rsquo;s dive into the deep end and use a reasonably simple example of a patch file to illustrate how an asset patch file works. There&rsquo;s a complete example of a reasonably simple mod included below: the AoA Unlocker. This will probably seem like a lot but over the next few pages we&rsquo;ll walk slowly through all the individual parts so you can get an idea of how the patches work and how you can build your own."><meta itemprop=dateModified content="2021-07-15T13:30:57+10:00"><meta itemprop=wordCount content="780"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="File Structure"><meta name=twitter:description content="Let&rsquo;s dive into the deep end and use a reasonably simple example of a patch file to illustrate how an asset patch file works. There&rsquo;s a complete example of a reasonably simple mod included below: the AoA Unlocker. This will probably seem like a lot but over the next few pages we&rsquo;ll walk slowly through all the individual parts so you can get an idea of how the patches work and how you can build your own."><link rel=preload href=../../../scss/main.min.1d47fd7b76ab439b5c879c1664dca25d03f2e90d2069ba783b3605f25f52a845.css as=style><link href=../../../scss/main.min.1d47fd7b76ab439b5c879c1664dca25d03f2e90d2069ba783b3605f25f52a845.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=../../../><span class=navbar-logo></span><span class="text-uppercase font-weight-bold">Project Sicario</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=../../../offline-search-index.aa189d93957a6247c87530d813aac0ac.json data-offline-search-base-href=../../../ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=../../../offline-search-index.aa189d93957a6247c87530d813aac0ac.json data-offline-search-base-href=../../../ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a></li><ul><li class="collapse show"><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../introduction/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Introduction</a></li><ul><li class=collapse id=introduction></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../patches/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Building a Sicario mod</a></li><ul><li class="collapse show" id=patches><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../patches/walkthrough/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Building asset patches</a></li><ul><li class="collapse show" id=patcheswalkthrough><a class="td-sidebar-link td-sidebar-link__page active" id=m-patcheswalkthroughintro href=../../../patches/walkthrough/intro/>File Structure</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-patcheswalkthroughtemplate href=../../../patches/walkthrough/template/>Property Templates</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-patcheswalkthroughpatches href=../../../patches/walkthrough/patches/>Patch Types</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-patcheswalkthroughexample href=../../../patches/walkthrough/example/>Example Mod</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../patches/walkthrough-hex/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Building hex patches</a></li><ul><li class=collapse id=patcheswalkthrough-hex><a class="td-sidebar-link td-sidebar-link__page" id=m-patcheswalkthrough-hexintro href=../../../patches/walkthrough-hex/intro/>File Structure</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-patcheswalkthrough-hexexample href=../../../patches/walkthrough-hex/example/>Example Mod</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-patcheswalkthrough-hexwindowing href=../../../patches/walkthrough-hex/windowing/>Windowing matches</a></li></ul></ul></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../templating/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Templating Mods</a></li><ul><li class=collapse id=templating><a class="td-sidebar-link td-sidebar-link__page" id=m-templatingfilters href=../../../templating/filters/>Introduction to Filters</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-templatingavailablefilters href=../../../templating/availablefilters/>Available Filters</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-templatingvariables href=../../../templating/variables/>Using Variables</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-templatingbuiltinvars href=../../../templating/builtinvars/>Common Variables</a><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../templating/advanced/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Advanced Features</a></li><ul><li class=collapse id=templatingadvanced><a class="td-sidebar-link td-sidebar-link__page" id=m-templatingadvancedinput href=../../../templating/advanced/input/>User Input</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-templatingadvancedenablesteps href=../../../templating/advanced/enablesteps/>Conditional Patches</a></li></ul></ul></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../metadata/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Extended Metadata</a></li><ul><li class=collapse id=metadata></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../packaging/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Packaging Mods</a></li><ul><li class=collapse id=packaging><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../packaging/skins/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Skins</a></li><ul><li class=collapse id=packagingskins></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../packaging/mods/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Blueprint Mods</a></li><ul><li class=collapse id=packagingmods></li></ul></ul></li></ul></ul></li></ul></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/agc93/project-sicario/edit/main/docs/content/en/patches/walkthrough/intro.md target=_blank><i class="fa fa-edit fa-fw"></i>Edit this page</a>
<a href="https://github.com/agc93/project-sicario/new/main/docs/content/en/patches/walkthrough/intro.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i>Create child page</a>
<a href="https://github.com/agc93/project-sicario/issues/new?title=File%20Structure" target=_blank><i class="fab fa-github fa-fw"></i>Create documentation issue</a></div><nav id=TableOfContents><ul><li><a href=#the-aoa-unlocker-mod-file>The AoA unlocker mod file</a></li><li><a href=#patch-metadata-code_metacode>Patch Metadata (<code>_meta</code>)</a></li><li><a href=#the-asset-patches-assetpatches>The Asset Patches (<code>AssetPatches</code>)</a><ul><li><a href=#patch-sets>Patch Sets</a></li><li><a href=#patches>Patches</a></li></ul></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=../../../patches/>Building a Sicario mod</a></li><li class=breadcrumb-item><a href=../../../patches/walkthrough/>Building asset patches</a></li><li class="breadcrumb-item active" aria-current=page><a href=../../../patches/walkthrough/intro/>File Structure</a></li></ol></nav><div class=td-content><h1>File Structure</h1><p>Let&rsquo;s dive into the deep end and use a reasonably simple example of a patch file to illustrate how an asset patch file works. There&rsquo;s a complete example of a reasonably simple mod included below: the AoA Unlocker. This will probably seem like a lot but over the next few pages we&rsquo;ll walk slowly through all the individual parts so you can get an idea of how the patches work and how you can build your own.</p><h2 id=the-aoa-unlocker-mod-file>The AoA unlocker mod file</h2><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=color:#000;font-weight:700>{</span>
  <span style=color:#204a87;font-weight:700>&#34;_meta&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
    <span style=color:#204a87;font-weight:700>&#34;DisplayName&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;AoA for All&#34;</span>
  <span style=color:#000;font-weight:700>},</span>
  <span style=color:#204a87;font-weight:700>&#34;FilePatches&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{},</span>
  <span style=color:#204a87;font-weight:700>&#34;AssetPatches&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
      <span style=color:#204a87;font-weight:700>&#34;ProjectWingman/Content/ProjectWingman/Blueprints/Data/AircraftData/DB_Aircraft.uexp&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
          <span style=color:#000;font-weight:700>{</span>
              <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;AoA Unlock&#34;</span><span style=color:#000;font-weight:700>,</span>
              <span style=color:#204a87;font-weight:700>&#34;patches&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
                  <span style=color:#000;font-weight:700>{</span>
                      <span style=color:#204a87;font-weight:700>&#34;description&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Set CanUseAoA to true&#34;</span><span style=color:#000;font-weight:700>,</span>
                      <span style=color:#204a87;font-weight:700>&#34;template&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;datatable:{&#39;BaseStats*&#39;}.{&#39;CanUseAoA*&#39;}&#34;</span><span style=color:#000;font-weight:700>,</span>
                      <span style=color:#204a87;font-weight:700>&#34;value&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;BoolProperty:true&#34;</span><span style=color:#000;font-weight:700>,</span>
                      <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;propertyValue&#34;</span>
                  <span style=color:#000;font-weight:700>}</span>
              <span style=color:#000;font-weight:700>]</span>
          <span style=color:#000;font-weight:700>}</span>
      <span style=color:#000;font-weight:700>]</span>
  <span style=color:#000;font-weight:700>}</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><blockquote><p>Note that (for now), the <code>FilePatches: {}</code> object is still <em><strong>required</strong></em>, even if it&rsquo;s not being used.</p></blockquote><p>Now let&rsquo;s step through each part of this file, so you can see what each part does.</p><h2 id=patch-metadata-code_metacode>Patch Metadata (<code>_meta</code>)</h2><p>The first thing you&rsquo;ll usually find in a Sicario patch file is the <code>_meta</code> field, which is an object with a few optional properties:</p><ul><li><code>DisplayName</code>: A user-friendly name to show for your mod</li><li><code>Author</code>: Take a guess what this one&rsquo;s for hotshot</li><li><code>Description</code>: also self-explanatory</li></ul><p>All three of these values will be shown to users so please don&rsquo;t just put &ldquo;do the thing&rdquo; or fill them in with shitposting!</p><p>There is some more metadata you can optionally provide, but that&rsquo;s covered later on.</p><h2 id=the-asset-patches-assetpatches>The Asset Patches (<code>AssetPatches</code>)</h2><p>The <code>AssetPatches</code> object is the main &ldquo;substance&rdquo; of a Sicario patch. It is a dictionary grouping the files to be edited with sets of patches to be applied to that file.</p><blockquote><p>Note that to support auto-packing you need to include the game file as the full target path for the file you&rsquo;re editing.</p></blockquote><p>In the example above, we have just one key in the object: <code>ProjectWingman/Content/ProjectWingman/Blueprints/Data/AircraftData/DB_Aircraft.uexp</code>. This just means that <code>DB_Aircraft.uexp</code> will be the only file that this patch will be applied to and it will be packed in that specific path. Each file then has an array of &ldquo;patch sets&rdquo;.</p><h3 id=patch-sets>Patch Sets</h3><p>Patch Sets are mostly a logical organizational idea: they&rsquo;re a way of organizing patches together. For example, if your mod is changing multiple stats for multiple planes, you might include each plane as a separate patch set. A patch set is just an object with <code>name</code> and an array of <code>patches</code>:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=color:#000;font-weight:700>{</span>
  <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;AoA Unlock&#34;</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#204a87;font-weight:700>&#34;patches&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[]</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>On it&rsquo;s own a patch set doesn&rsquo;t do much, that&rsquo;s up to the actual <em>patches</em> in the set.</p><h4 id=patch-set-grouping>Patch Set Grouping</h4><p>There is one important thing to note with patch sets: all the patches in a set are <em>matched</em> together. That means if one patch requires a previous change, or matches based on a value changed by a previous patch, they need to be in separate patch sets. For example, if you change the name of something and then want a later patch to find the property based on that new name, it needs to be in its own set.</p><p>This will make a bit more sense later on, but just keep it in mind if you&rsquo;re making changes that rely on each other.</p><blockquote><p>The reason for this is both complex and simple: it was possible for a change from an earlier patch to then match a later patches template which was extremely confusing in practice.</p></blockquote><h3 id=patches>Patches</h3><p>Now we hit the real meat of a Sicario patch: the actual edit to make. Here&rsquo;s the example for enabling AoA for all aircraft:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=color:#000;font-weight:700>{</span>
  <span style=color:#204a87;font-weight:700>&#34;description&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Set CanUseAoA&#34;</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#204a87;font-weight:700>&#34;template&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;datatable:{&#39;BaseStats*&#39;}.{&#39;CanUseAoA*&#39;}&#34;</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#204a87;font-weight:700>&#34;value&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;BoolProperty:true&#34;</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;propertyValue&#34;</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>In plain English, this object just tells Sicario &ldquo;replace the value of any <code>CanUseAoA</code> properties with <code>true</code>&rdquo;, but that&rsquo;s probably not immediately obvious. Don&rsquo;t worry, it&rsquo;s not as complicated as it looks!</p><h4 id=template-and-value>Template and Value</h4><p>These are the actual values Sicario will be (respectively) looking for and inserting into the file. When it runs, Project Sicario will load the file into memory, parse the file (more on that later), look for <em>any</em> values that match the <strong>template</strong> value and then apply the <strong>value</strong>. How exactly the value is applied varies based on the patch <em>type</em>.</p><p>In short, the Template is how Sicario knows which properties to change (and not to change) and is used to isolate out exactly what you want to change. Templates are covered in more detail in the <a href=../template>next</a> section.</p><p>The Value of the patch, on the other hand, is how Sicario knows <em>how</em> you want to change it and is used to apply any number of potential changes based on the patch <em>type</em>. The patch value (and patch types) are also covered in more detail in a <a href=../patches>later</a> section.</p><div class="text-muted mt-5 pt-3 border-top">Last modified July 15, 2021: <a href=https://github.com/agc93/project-sicario/commit/0c99584148b31a4ce23c14d40bc1cc622319bada>Major docs update; Re-enable gh-pages deployment from main; (0c99584)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel="noopener noreferrer" href=https://github.com/agc93/project-sicario><i class="fab fa-github"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2021 Project Sicario Team All Rights Reserved</small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js integrity=sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s crossorigin=anonymous></script><script src=../../../js/main.min.906bd02f142be20eb94bb49539a18a3e93ec0b9ff5f5dcf3796eed436a6103d2.js integrity="sha256-kGvQLxQr4g65S7SVOaGKPpPsC5/19dzzeW7tQ2phA9I=" crossorigin=anonymous></script></body></html>